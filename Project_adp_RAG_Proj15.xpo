Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: JOB

; Microsoft Dynamics AX Job: exportDataFromTab izlādēts
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #exportDataFromTab
    #static void exportDataFromTab(Args _args)
    #{
    #    CommaIo file;
    #    FilePath fileName = @"C:\Users\rag\Documents\exportedAxTable\Collectables.csv";
    #    Collectables collectables;
    #    container line;
    #    int count1;
    #
    #    file = new CommaIo(fileName, 'W');
    #    if (!file)
    #    {
    #        throw error(strfmt("Error opening file: %1", fileName));
    #    }
    #
    #    line = [
    #        'ColId',
    #        'Name',
    #        'Valsts',
    #        'Description',
    #        'YId',
    #        'ConId',
    #        'StatId',
    #        'MatId',
    #        'TypeId',
    #        'AlbLocId',
    #        'OwnId',
    #        'CurrValueId',
    #        'CurrTypeId'
    #    ];
    #
    #    file.writeExp(line);
    #
    #    while select * from collectables
    #    {
    #        count1 = count1+1;
    #        line = [
    #            collectables.ColId,
    #            collectables.Name,
    #            collectables.Valsts,
    #            collectables.Description,
    #            collectables.YId,
    #            collectables.ConId,
    #            collectables.StatId,
    #            collectables.MatId,
    #            collectables.TypeId,
    #            collectables.AlbLocId,
    #            collectables.OwnId,
    #            collectables.CurrValueId,
    #            collectables.CurrTypeId
    #        ];
    #
    #        file.writeExp(line);
    #    }
    #
    #    file = null;
    #
    #    info("Collectables table exported.");
    #    info(int2str(count1));
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: Job270 izlādēts
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #Job270
    #static void Job270(Args _args)
    #{
    #    Proj15Year      Proj15Year;
    #    int             i;
    #    ;
    #    ttsbegin;
    #    for(i = 1850; i <= 2023; i++)
    #    {
    #        Proj15Year.clear();
    #        Proj15Year.YId = i;
    #        Proj15Year.insert();
    #    }
    #    ttscommit;
    #
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: importAddressCountryRegionFromTxtFile izlādēts
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #importAddressCountryRegionFromTxtFile
    #static void importAddressCountryRegionFromTxtFile(Args _args)
    #{
    #    TextIO file;
    #    str line;
    #    List words;
    #    int startPos = 1;
    #    int spacePos;
    #    int i;
    #    container   readContainer;
    #    str CountryRegionId;
    #    ListEnumerator le;
    #
    #    AddressCountryRegion addressCountryRegion;
    #    #define.filename('C:\\Users\\rag\\Desktop\\AddressCountryRegion.txt')
    #    #File
    #
    #    file = new TextIO(#filename, #io_read);
    #    if (!file || file.status() != IO_Status::Ok)
    #    {
    #        throw error("File cannot be opened.");
    #    }
    #
    #    ttsBegin;
    #
    #    delete_from addressCountryRegion;
    #
    #    while (!file.status())
    #    {
    #        file.inFieldDelimiter('\n');
    #        readContainer       = file.read();
    #            while(readContainer)
    #            {
    #                [line]    = readContainer;
    #
    #                words = strSplit(line, " ");
    #
    #                le = words.getEnumerator();
    #
    #                if (le.moveNext()) addressCountryRegion.CountryRegionId = le.current();
    #                if (le.moveNext()) addressCountryRegion.Type = le.current();
    #                if (le.moveNext()) addressCountryRegion.TaxCode = le.current();
    #                if (le.moveNext()) addressCountryRegion.ISOcode = le.current();
    #                if (le.moveNext()) addressCountryRegion.AddrFormat = le.current();
    #                if (le.moveNext()) addressCountryRegion.Name = le.current();
    #                if (le.moveNext()) addressCountryRegion.IntrastatCode = le.current();
    #                if (le.moveNext()) addressCountryRegion.GiroAccountValidationMethod = le.current();
    #                if (le.moveNext()) addressCountryRegion.BankAccountNumValidation = le.current();
    #                if (le.moveNext()) addressCountryRegion.DEL_EuroZoneCountryRegion = le.current();
    #                if (le.moveNext()) addressCountryRegion.CurrencyCode = le.current();
    #                if (le.moveNext()) addressCountryRegion.TaxVatNumFormatCheck = le.current();
    #                if (le.moveNext()) addressCountryRegion.TimeZone = le.current();
    #                if (le.moveNext()) addressCountryRegion.AddressUseZipPlus4 = le.current();
    #                if (le.moveNext()) addressCountryRegion.EEACountry = le.current();
    #                if (le.moveNext()) addressCountryRegion.PaymIdType = le.current();
    #                if (le.moveNext()) addressCountryRegion.DEL_NPIBankingPaymIdType = le.current();
    #                if (le.moveNext()) addressCountryRegion.OKSMCode_RU = le.current();
    #                if (le.moveNext()) addressCountryRegion.CountryAddressFormatType_RU = le.current();
    #
    #
    #                addressCountryRegion.insert();
    #
    #
    #                readContainer = file.read();
    #            }
    #    }
    #
    #    ttsCommit;
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: Job41 izlādēts
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #Job41
    #static void Job41(Args _args)
    #{
    #    Collectables    Collectables;
    #    OwnerCol        OwnerCol;
    #    ;
    #    ttsbegin;
    #    delete_from OwnerCol;
    #
    #    while select Collectables group by Collectables.OwnId,Collectables.TypeId
    #    {
    #        //info(strFmt("%1 %2", Collectables.OwnId, Collectables.TypeId));
    #        OwnerCol.OwnId = Collectables.OwnId;
    #        OwnerCol.TypeId = Collectables.TypeId;
    #        OwnerCol.insert();
    #    }
    #
    #    ttscommit;
    #
    #}
  ENDSOURCE

***Element: FTM

; Microsoft Dynamics AX MENUITEM : owncol_update unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #owncol_update
    Type: 3
    PROPERTIES
      Name                #owncol_update
      Label               #Īpašnieku kolekcijas atjauninājums
      ObjectType          #Class
      Object              #ownCol_update
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : Collection_Alb_del unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #Collection_Alb_del
    Type: 3
    PROPERTIES
      Name                #Collection_Alb_del
      ObjectType          #Class
      Object              #collection_Alb_del
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : Collection_Alb_insert unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #Collection_Alb_insert
    Type: 3
    PROPERTIES
      Name                #Collection_Alb_insert
      ObjectType          #Class
      Object              #collection_Alb_insert
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : AlbumMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #AlbumMenu
    Type: 1
    PROPERTIES
      Name                #AlbumMenu
      Label               #Albumi
      Object              #Album
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : OwnerMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #OwnerMenu
    Type: 1
    PROPERTIES
      Name                #OwnerMenu
      Label               #Īpašnieki
      Object              #owners
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : OwnerColMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #OwnerColMenu
    Type: 1
    PROPERTIES
      Name                #OwnerColMenu
      Label               #Īpašnieku kolekcijas
      Object              #ownercol
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : AllCollMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #AllCollMenu
    Type: 1
    PROPERTIES
      Name                #AllCollMenu
      Label               #Pārskatīt kolekcijas
      Object              #seeAllCollectables
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollMenu
    Type: 1
    PROPERTIES
      Name                #CollMenu
      Label               #Pārskatīt savu kolekciju
      Object              #Collectables
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropCurrType unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropCurrType
    Type: 1
    PROPERTIES
      Name                #CollPropCurrType
      Label               #Valūtas tips
      Object              #collpropcurrtype
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropCurrValue unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropCurrValue
    Type: 1
    PROPERTIES
      Name                #CollPropCurrValue
      Label               #Valūtas vērtība
      Object              #collpropcurrvalue
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropMaterial unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropMaterial
    Type: 1
    PROPERTIES
      Name                #CollPropMaterial
      Label               #Priekšmetu materiāli
      Object              #CollPropMaterial
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropStatus unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropStatus
    Type: 1
    PROPERTIES
      Name                #CollPropStatus
      Label               #Priekšmetu statuss
      Object              #CollPropStatus
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropCondition unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropCondition
    Type: 1
    PROPERTIES
      Name                #CollPropCondition
      Label               #Priekšmetu stāvoklis
      Object              #CollPropCondition
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropYear unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropYear
    Type: 1
    PROPERTIES
      Name                #CollPropYear
      Label               #Priekšmeta gads
      Object              #CollPropYear
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : CollPropColType unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #CollPropColType
    Type: 1
    PROPERTIES
      Name                #CollPropColType
      Label               #Priekšmetu kolekcijas tips
      Object              #CollPropColType
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : FileEditParamsMenu unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #FileEditParamsMenu
    Type: 1
    PROPERTIES
      Name                #FileEditParamsMenu
      Label               #Failu rediģēšanas parametri
      Object              #FileEditParams
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: CLS

; Microsoft Dynamics AX Class: OwnCol_update izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #OwnCol_update
    Id 50104
    PROPERTIES
      Name                #OwnCol_update
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class OwnCol_update extends RunBaseBatch
        #{
        #    str tmpOwn;
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    //return [#CurrentVersion,#CurrentList];
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    Collectables    Collectables;
        #    OwnerCol        OwnerCol1;
        #    OwnerCol        OwnerCol;
        #    ;
        #
        #    ttsbegin;
        #
        #    while select OwnerCol1
        #    {
        #        if (OwnerCol1.OwnId == tmpOwn)
        #        {
        #            delete_from OwnerCol
        #                where OwnerCol.OwnId == OwnerCol1.OwnId;
        #        }
        #    }
        #
        #    while select Collectables group by Collectables.OwnId,Collectables.TypeId
        #    {
        #        if (Collectables.OwnId == tmpOwn)
        #        {
        #            //info(strFmt("%1 %2", Collectables.OwnId, Collectables.TypeId));
        #            OwnerCol.OwnId = Collectables.OwnId;
        #            OwnerCol.TypeId = Collectables.TypeId;
        #            OwnerCol.insert();
        #        }
        #    }
        #
        #    ttscommit;
        #    tmpOwn = "";
        #}
      ENDSOURCE
      SOURCE #setOwn
        #public void setOwn(str passedOwn)
        #{
        #    tmpOwn = passedOwn;
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    /*
        #    Integer     version     = conPeek(packedClass,1);
        #    ;
        #
        #    switch (version)
        #    {
        #        case #CurrentVersion :
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default :
        #            return false;
        #    }
        #    */
        #    return false;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    OwnCol_update         inst;
        #    ;
        #
        #    inst = new OwnCol_update();
        #
        #    if (inst.prompt())
        #        inst.run();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: Collection_Alb_insert izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #Collection_Alb_insert
    Id 50100
    PROPERTIES
      Name                #Collection_Alb_insert
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class Collection_Alb_insert extends RunBaseBatch
        #{
        #    //InventJournalTable      InventJournalTable;
        #    //InventJournalTrans   InventJournalTrans;
        #    //InventJournalId         InventJournalId;
        #    //DialogRunbase           dialog;
        #
        #    Album           Album;
        #    Owner           Owner;
        #
        #    str chosenId;
        #    boolean isadmin;
        #    //TransDate TransDate;
        #
        #    //InventLocationId _locationId;
        #
        #    OwnId           _ipasnieks;
        #    Name            _albumaNos;
        #    Page            _albumaLpp;
        #    PageCol     _albumaLppKol;
        #    PageRow       _albumaLppRind;
        #
        #
        #    //FileNameOpen    fullFileName;
        #    DialogField     dfAlbumaIp;
        #    DialogField     dfAlbumaNos;
        #    DialogField     dfAlbumaLpp;
        #    DialogField     dfAlbumaKol;
        #    DialogField     dfAlbumaRind;
        #
        #    #DEFINE.CurrentVersion(1)
        #    #LOCALMACRO.CurrentList
        #    //    fullFileName,
        #        _ipasnieks,
        #        _albumaNos,
        #        _albumaLpp,
        #        _albumaLppKol,
        #        _albumaLppRind
        #    #ENDMACRO
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog;
        #    DialogText  DialogText;
        #    isadmin = false;
        #
        #
        #    dialog = super();
        #
        #    //Dialog = new Dialog("Sv'itrkodu imports");
        #    dialog.caption("Jauna albuma izveidošana");
        #
        #    //dialog.filenameLookupFileName(fullFileName);
        #    //dialog.filenameLookupFilter(["@SYS28576", '*.txt']);
        #    //dfFullFileName = dialog.addFieldValue(typeid(FilenameOpen), fullFileName);
        #
        #    //dfAlbumaNos = dialog.addFieldValue(typeid(MonetasAlbumsNos), _albumaNos);
        #    //dfAlbumaLpp = dialog.addFieldValue(typeid(MonetasAlbumsLpp), _albumaLpp);
        #    //dfAlbumaKol = dialog.addFieldValue(typeid(MonetasAlbumsLppKolonna), _albumaLppKol);
        #    //dfAlbumaRind = dialog.addFieldValue(typeid(MonetasAlbumsLppRinda), _albumaLppRind);
        #
        #    chosenId =curUserId();
        #
        #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
        #    //if ((chosenId == 'mag') || (chosenId == 'rog'))
        #        chosenId = "MRRV";
        #
        #    while select Owner
        #    {
        #        if ((Owner.OwnId == chosenId) && (Owner.IsAdmin == NoYes::Yes))
        #        {
        #            isadmin = true;
        #            //info("yes");
        #            //super();
        #            break;
        #        }
        #    }
        #    if (isadmin)
        #    {
        #        dfAlbumaIp = dialog.addFieldValue(typeid(OwnId), _ipasnieks);
        #        dfAlbumaIp.label("Albuma īpašnieks");
        #    }
        #
        #    dfAlbumaNos = dialog.addFieldValue(typeid(Name), _albumaNos);
        #    dfAlbumaNos.label("Albuma nosaukums");
        #    dfAlbumaLpp = dialog.addFieldValue(typeid(Page), _albumaLpp);
        #    dfAlbumaLpp.label("Albuma lapaspušu skaits");
        #    dfAlbumaKol = dialog.addFieldValue(typeid(PageCol), _albumaLppKol);
        #    dfAlbumaKol.label("Albuma lapaspuses kolonu skaits");
        #    dfAlbumaRind = dialog.addFieldValue(typeid(PageRow), _albumaLppRind);
        #    dfAlbumaRind.label("Albuma lapaspuses rindu skaits");
        #
        #
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    if (isadmin)
        #        _ipasnieks = strUpr(dfAlbumaIp.value());
        #    else
        #        _ipasnieks = strUpr(chosenId);
        #
        #    _albumaNos = dfAlbumaNos.value();
        #    _albumaLpp = dfAlbumaLpp.value();
        #    _albumaLppKol = dfAlbumaKol.value();
        #    _albumaLppRind = dfAlbumaRind.value();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return [#CurrentVersion,#CurrentList];
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    int j;
        #    int i;
        #    int k;
        #    Album   Album1;
        #    Owner   Owner1;
        #    ;
        #
        #    if((_ipasnieks != "") && (_albumaNos != "") && (_albumaLpp > 0)
        #         && (_albumaLppKol > 0) && (_albumaLppRind > 0))
        #    {
        #        for (i = 1; i <= _albumaLpp; i++)
        #        {
        #            for (j = 1; j <= _albumaLppKol; j++)
        #            {
        #                for (k = 1; k <= _albumaLppRind; k++)
        #                {
        #                    ttsbegin;
        #
        #                    Album1.clear();
        #                    Album1.initValue();
        #
        #                    Album1.AlbLocId = strFmt("%1-%2-%3-%4-%5",_ipasnieks, _albumaNos, i, j, k);
        #                    Album1.Name = _albumaNos;
        #                    Album1.Page = i;
        #                    Album1.PageCol = j;
        #                    Album1.PageRow = k;
        #                    Album1.OwnId = _ipasnieks;
        #
        #                    if( Album1.validateWrite() )
        #                    {
        #                        Album1.insert();
        #                        ttscommit;
        #                    }
        #                    else
        #                    {
        #                        ttsabort;
        #                        throw error( "Nevar pievienot žurnāla rindas" );
        #                    }
        #                }
        #            }
        #        }
        #
        #    }
        #    else
        #    {
        #        info("Nekorektas vērtības ievadē");
        #        return;
        #    }
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    Integer     version     = conPeek(packedClass,1);
        #    ;
        #
        #    switch (version)
        #    {
        #        case #CurrentVersion :
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default :
        #            return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    //InventJournalTable InventJournalTable;
        #    //InventJournalTrans InventJournalTrans;
        #    Collection_Alb_insert         inst;
        #
        #
        #    ;
        #    //breakpoint;
        #
        #    inst = new Collection_Alb_insert();
        #
        #    //if (args && args.dataset() == tablenum(InventJournalTable))
        #    //{
        #    //    inventJournalTable = args.record();
        #    //    inst.parmInventJournalTable(InventJournalTable);
        #    //}
        #
        #    //if( !InventJournalTable ) throw error( "Nav norādīts žurnāls" );
        #
        #    if (inst.prompt())
        #        inst.run();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: Collection_Alb_del izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #Collection_Alb_del
    Id 50099
    PROPERTIES
      Name                #Collection_Alb_del
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class Collection_Alb_del extends RunBaseBatch
        #{
        #    //InventJournalTable      InventJournalTable;
        #    //InventJournalTrans   InventJournalTrans;
        #    //InventJournalId         InventJournalId;
        #    //DialogRunbase           dialog;
        #
        #    Album           Album;
        #    Owner           Owner;
        #
        #
        #    str chosenId;
        #    boolean isadmin;
        #
        #    //TransDate TransDate;
        #
        #    //InventLocationId _locationId;
        #
        #    OwnId           _ipasnieks;
        #    Name            _albumaNos;
        #
        #    //FileNameOpen    fullFileName;
        #    DialogField     dfAlbumaIp;
        #    DialogField     dfAlbumaNos;
        #
        #    #DEFINE.CurrentVersion(2)
        #    #LOCALMACRO.CurrentList
        #    //    fullFileName,
        #        _ipasnieks,
        #        _albumaNos
        #    #ENDMACRO
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog;
        #    DialogText  DialogText;
        #    ;
        #
        #    isadmin = false;
        #
        #
        #    dialog = super();
        #
        #    //Dialog = new Dialog("Sv'itrkodu imports");
        #    dialog.caption("Albuma dzēsšana");
        #
        #    //dialog.filenameLookupFileName(fullFileName);
        #    //dialog.filenameLookupFilter(["@SYS28576", '*.txt']);
        #    //dfFullFileName = dialog.addFieldValue(typeid(FilenameOpen), fullFileName);
        #    chosenId =curUserId();
        #
        #    //if ((chosenId == 'mag') || (chosenId == 'rog'))
        #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
        #        chosenId = "MRRV";
        #
        #    while select Owner
        #    {
        #        if ((Owner.OwnId == chosenId) && (Owner.IsAdmin == NoYes::Yes))
        #        {
        #            isadmin = true;
        #            //info("yes");
        #            //super();
        #            break;
        #        }
        #    }
        #
        #    if (isadmin)
        #    {
        #        dfAlbumaIp = dialog.addFieldValue(typeid(OwnId), _ipasnieks);
        #        dfAlbumaIp.label("Albuma īpašnieks");
        #    }
        #
        #    dfAlbumaNos = dialog.addFieldValue(typeid(Name), _albumaNos);
        #    dfAlbumaNos.label("Albuma nosaukums");
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    if (isadmin)
        #        _ipasnieks = dfAlbumaIp.value();
        #    else
        #        _ipasnieks = chosenId;
        #
        #    _albumaNos = dfAlbumaNos.value();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return [#CurrentVersion,#CurrentList];
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    Album   Album1;
        #    Collectables         Collectables1;
        #    ;
        #
        #    if(_albumaNos != "")
        #    {
        #        while select forupdate Album1
        #            where _albumaNos == Album1.Name
        #                && _ipasnieks == Album1.OwnId
        #                //&& chosenId == Album1.OwnId
        #
        #        {
        #            if (Album1)
        #            {
        #
        #                ttsbegin;
        #                Album1.delete();
        #
        #                select forupdate Collectables1
        #                    where Collectables1.OwnId == Album1.OwnId
        #                        && Collectables1.AlbLocId == Album1.AlbLocId;
        #                if (Collectables1)
        #                {
        #                    Collectables1.AlbLocId = "";
        #                    Collectables1.update();
        #                }
        #
        #                ttscommit;
        #            }
        #        }
        #    }
        #    else
        #    {
        #        info("Nekorekts albuma nosaukums ievadē");
        #        return;
        #    }
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    Integer     version     = conPeek(packedClass,1);
        #    ;
        #
        #    switch (version)
        #    {
        #        case #CurrentVersion :
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default :
        #            return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    Collection_Alb_del         inst;
        #    ;
        #
        #    inst = new Collection_Alb_del();
        #
        #    if (inst.prompt())
        #        inst.run();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: OwnCol_update_batch izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #OwnCol_update_batch
    Id 50102
    PROPERTIES
      Name                #OwnCol_update_batch
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class OwnCol_update_batch extends RunBaseBatch
        #{
        #    TransDate       transDate;
        #    DialogField     dlgTransDate;
        #
        #
        #    #define.CurrentVersion(1)
        #    #define.Version1(1)
        #    #localmacro.CurrentList
        #        transDate
        #        //custAccount
        #    #endmacro
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase       dialog = super();
        #    #resAppl
        #;
        #    dlgTransDate = dialog.addFieldValue(typeid(TransDate),transDate);
        #
        #    return dialog;
        #}
        #
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #;
        #    transDate   = dlgTransDate.value();
        #
        #    return super();
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    return [#CurrentVersion,#CurrentList];
        #    //return connull();
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #
        #    Version version = RunBase::getVersion(packedClass);
        #;
        #    switch (version)
        #    {
        #        case #CurrentVersion:
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default:
        #            return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #construct
        #server static OwnCol_update_batch construct()
        #{
        #    return new OwnCol_update_batch();
        #}
      ENDSOURCE
      SOURCE #main
        #static void main(Args args)
        #{
        #    OwnCol_update_batch    OwnCol_update_batch;
        #;
        #    OwnCol_update_batch = OwnCol_update_batch::construct();
        #
        #    if (OwnCol_update_batch.prompt())
        #        OwnCol_update_batch.run();
        #}
        #
      ENDSOURCE
      SOURCE #run
        #public static void run(BatchHeader _batchHeader)
        #{
        #    Collectables    Collectables;
        #    OwnerCol        OwnerCol;
        #    ;
        #    ttsbegin;
        #    delete_from OwnerCol;
        #
        #    info("table update batch running");
        #
        #    while select Collectables group by Collectables.OwnId,Collectables.TypeId
        #    {
        #        //info(strFmt("%1 %2", Collectables.OwnId, Collectables.TypeId));
        #        OwnerCol.OwnId = Collectables.OwnId;
        #        OwnerCol.TypeId = Collectables.TypeId;
        #        OwnerCol.insert();
        #    }
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: ColUser_valid izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #ColUser_valid
    Id 50101
    PROPERTIES
      Name                #ColUser_valid
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class ColUser_valid extends RunBaseBatch
        #{
        #    Owner           Owner;
        #
        #    OwnId            _ownId;
        #    Password      _password;
        #
        #    DialogField     dfId;
        #    DialogField     dfPass;
        #
        #    //#DEFINE.CurrentVersion(3)
        #    //#LOCALMACRO.CurrentList
        #    //    fullFileName,
        #        //_albumaNos
        #        //dfId
        #    //#ENDMACRO
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog;
        #    DialogText  DialogText;
        #    ;
        #
        #    dialog = super();
        #
        #    dialog.caption("Login");
        #
        #
        #    dfId = dialog.addFieldValue(typeid(str60), _ownId, "Lietotāja ID");
        #    dfPass = dialog.addFieldValue(typeid(Password), _password);
        #    dfPass.passwordStyle(true);
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    //_albumaNos = dfAlbumaNos.value();
        #    _ownId = dfId.value();
        #    _password = dfPass.value();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    //return [#CurrentVersion,#CurrentList];
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    Owner   Owner1;
        #    FormRun formRun;
        #    Args    args;
        #    //SysGlobalCache globalCache;
        #    str     params;
        #    ;
        #
        #    if((_ownId != "") && (_password != ""))
        #    {
        #        select firstonly Owner where
        #            Owner.OwnId == _ownId && Owner.Password == _password;
        #        if (Owner)
        #        {
        #            params = _ownId;
        #            //params = curUserId();
        #            //info(curUserId());
        #            //globalCache = ClassFactory.globalCache();
        #            //globalCache.set(curuserid(), 1, _ownId);
        #            args = new Args();
        #            args.name(formstr(Collectables));
        #            args.parm(params);
        #            formRun = classFactory.formRunClass(args);
        #            formRun.init();
        #            formRun.run();
        #            formRun.wait();
        #        }
        #        else
        #            info("Inncorect password or login");
        #    }
        #    else
        #        info("Inncorect password or login");
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    /*
        #    Integer     version     = conPeek(packedClass,1);
        #    ;
        #
        #    switch (version)
        #    {
        #        case #CurrentVersion :
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default :
        #            return false;
        #    }
        #    */
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    ColUser_valid         inst;
        #    ;
        #
        #    inst = new ColUser_valid();
        #
        #    if (inst.prompt())
        #        inst.run();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: Admin_valid izlādēts
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #Admin_valid
    Id 50103
    PROPERTIES
      Name                #Admin_valid
      Extends             #RunBaseBatch
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class Admin_valid extends RunBaseBatch
        #{
        #    Owner           Owner;
        #
        #    OwnId            _ownId;
        #    Password      _password;
        #
        #    DialogField     dfId;
        #    DialogField     dfPass;
        #
        #    //#DEFINE.CurrentVersion(3)
        #    //#LOCALMACRO.CurrentList
        #    //    fullFileName,
        #        //_albumaNos
        #        //dfId
        #    //#ENDMACRO
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog;
        #    DialogText  DialogText;
        #    ;
        #
        #    dialog = super();
        #
        #    dialog.caption("Login");
        #
        #
        #    dfId = dialog.addFieldValue(typeid(str60), _ownId, "Lietotāja ID");
        #    dfPass = dialog.addFieldValue(typeid(Password), _password);
        #    dfPass.passwordStyle(true);
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    //_albumaNos = dfAlbumaNos.value();
        #    _ownId = dfId.value();
        #    _password = dfPass.value();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    //return [#CurrentVersion,#CurrentList];
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    Owner   Owner1;
        #    FormRun formRun;
        #    Args    args;
        #    ;
        #
        #    if((_ownId != "") && (_password != "") && (strUpr(_ownId) == "ADMIN"))
        #    {
        #        select firstonly Owner where
        #            Owner.OwnId == _ownId && Owner.Password == _password;
        #        if (Owner)
        #        {
        #            args = new Args();
        #            args.name(formstr(Owners));
        #            formRun = classFactory.formRunClass(args);
        #            formRun.init();
        #            formRun.run();
        #            formRun.wait();
        #        }
        #        else
        #            info("Inncorect password or login");
        #    }
        #    else
        #        info("Inncorect password or login");
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    /*
        #    Integer     version     = conPeek(packedClass,1);
        #    ;
        #
        #    switch (version)
        #    {
        #        case #CurrentVersion :
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default :
        #            return false;
        #    }
        #    */
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    Admin_valid         inst;
        #    ;
        #
        #    inst = new Admin_valid();
        #
        #    if (inst.prompt())
        #        inst.run();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #FileEditParams
  PROPERTIES
    Name                #FileEditParams
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    boolean isAdmin = false;
      #    Owner   Owner;
      #
      #    ;
      #    super();
      #
      #    chosenId =  curUserId();
      #    //info(chosenId);
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #    while select Owner
      #    {
      #        if ((Owner.OwnId == chosenId) && (Owner.IsAdmin == NoYes::Yes))
      #        {
      #            isAdmin = true;
      #            //info("yes");
      #            //super();
      #            break;
      #        }
      #    }
      #
      #    if (!isAdmin)
      #    {
      #        info("Jums nav dota pieeja");
      #        this.close();
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #filePathLookupTitle
      #str filePathLookupTitle()
      #{;
      #    return "Direktorija";
      #}
    ENDSOURCE
    SOURCE #fileNameLookupExtension
      #public str fileNameLookupExtension()
      #{
      #    #Aif
      #    return "*.*";
      #}
    ENDSOURCE
    SOURCE #fileNameLookupFileName
      #public str fileNameLookupFileName()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #fileNameLookupFIlter
      #container fileNameLookupFIlter()
      #{
      #    return ['Executable'];
      #}
    ENDSOURCE
    SOURCE #fileNameLookupInitialPath
      #str fileNameLookupInitialPath()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #fileNameLookupPath
      #public str fileNameLookupPath()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #fileNameLookupTitle
      #public str fileNameLookupTitle()
      #{
      #    return '';
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PhotoParam
          Table               #PhotoParam
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Width               #Column width
      Height              #Column height
      Caption             #Parametri
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #TabPage
              Width               #Column width
              Height              #Column height
              Caption             #Iestatījumi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL STRINGEDIT
                PROPERTIES
                  Name                #PhotoParam_RotatePrgFile
                  DataSource          #PhotoParam
                  DataField           #RotatePrgFile
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropCurrType
  PROPERTIES
    Name                #CollPropCurrType
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CurrencyType
          Table               #CurrencyType
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        CurrencyType_CurrTypeId.allowEdit(false);
          #
          #        CurrencyType_ds.allowCreate(false);
          #        CurrencyType_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Valūtas tipi
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropCurrType
              Caption             #Valūtas tipi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid4
                  Width               #Column width
                  Height              #Column height
                  DataSource          #CurrencyType
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #CurrencyType_CurrTypeId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #CurrencyType
                        DataField           #CurrTypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #CurrencyType_CurrType
                        DataSource          #CurrencyType
                        DataField           #CurrTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropCurrValue
  PROPERTIES
    Name                #CollPropCurrValue
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CurrencyValue
          Table               #CurrencyValue
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        CurrencyValue_CurrValueId.allowEdit(false);
          #
          #        CurrencyValue_ds.allowCreate(false);
          #        CurrencyValue_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Priekšmetu īpašību pārvalde
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropCurrValue
              Width               #Column width
              Height              #Column height
              Caption             #Valūtas vērtība
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid5
                  Width               #Column width
                  Height              #Column height
                  DataSource          #CurrencyValue
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #CurrencyValue_CurrValueId
                        AutoDeclaration     #Yes
                        DataSource          #CurrencyValue
                        DataField           #CurrValueId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropMaterial
  PROPERTIES
    Name                #CollPropMaterial
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Material
          Table               #Material
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        Material_MatId.allowEdit(false);
          #
          #        Material_ds.allowCreate(false);
          #        Material_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropMaterial
              Width               #Column width
              Height              #Column height
              Caption             #Materiāli
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid3
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Material
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Material_MatId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #Material
                        DataField           #MatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Material_Material
                        DataSource          #Material
                        DataField           #MaterialName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropStatus
  PROPERTIES
    Name                #CollPropStatus
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Status
          Table               #Status
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        Status_StatId.allowEdit(false);
          #
          #        Status_ds.allowCreate(false);
          #        Status_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropStatus
              Caption             #Statusi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid2
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Status
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Status_StatId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #Status
                        DataField           #StatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Status_Status
                        DataSource          #Status
                        DataField           #StatusName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropCondition
  PROPERTIES
    Name                #CollPropCondition
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Condition
          Table               #Condition
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        Condition_ConId.allowEdit(false);
          #
          #        Condition_ds.allowCreate(false);
          #        Condition_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropCondition
              Width               #Column width
              Height              #Column height
              Caption             #Stāvokļi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid1
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Condition
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Condition_ConId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #Condition
                        DataField           #ConId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Condition_Condition
                        DataSource          #Condition
                        DataField           #ConditionName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropYear
  PROPERTIES
    Name                #CollPropYear
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Proj15Year
          Table               #Proj15Year
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        Proj15Year_YId.allowEdit(false);
          #
          #        Proj15Year_ds.allowCreate(false);
          #        Proj15Year_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropYear
              Width               #Column width
              Height              #Column height
              Caption             #Gadi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Proj15Year
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Proj15Year_YId
                        AutoDeclaration     #Yes
                        DataSource          #Proj15Year
                        DataField           #YId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CollPropColType
  PROPERTIES
    Name                #CollPropColType
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ColType
          Table               #ColType
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #
          #    if (!isAdmin)
          #    {
          #        CopyOfColType_TypeId.allowEdit(false);
          #
          #        ColType_ds.allowCreate(false);
          #        ColType_ds.allowDelete(false);
          #    }
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #PropColType
              Width               #Column width
              Height              #Column height
              Caption             #Kolekcijas tips
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #CopyOfGrid6
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ColType
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #CopyOfColType_TypeId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #ColType
                        DataField           #ColTypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ColType_Type
                        DataSource          #ColType
                        DataField           #TypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #Album
  PROPERTIES
    Name                #Album
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    chosenId =  curUserId();
      #    //info(chosenId);
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'vig'))
      #        chosenId = "MRRV";
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Album
          Table               #Album
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    QueryBuildDataSource qbds;
          #    QueryBuildRange qbr;
          #    //str chosenId;
          #    boolean isAdmin = false;
          #    Owner   Owner;
          #    ;
          #
          #    qbds = this.query().dataSourceNo(1);
          #
          #    while select Owner
          #    {
          #        if ((Owner.OwnId == chosenId) && (Owner.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #    if (!isAdmin)
          #    {
          #        //info("not ad");
          #        qbr = qbds.addRange(fieldNum(Album, OwnId));
          #        qbr.value(QueryValue(chosenId));
          #    }
          #
          #    super();
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Albumu pārvalde
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Albums
              Caption             #Albumi
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Album
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Album_AlbLocId
                        DataSource          #Album
                        DataField           #AlbLocId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Album_Name
                        DataSource          #Album
                        DataField           #Name
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Album_Page
                        Label               #Lapaspuse
                        DataSource          #Album
                        DataField           #Page
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Album_PageCol
                        Label               #Lapaspuses kolona
                        DataSource          #Album
                        DataField           #PageCol
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Album_PageRow
                        Label               #Lapaspuses rinda
                        DataSource          #Album
                        DataField           #PageRow
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Album_OwnId
                        AllowEdit           #No
                        DataSource          #Album
                        DataField           #OwnId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL BUTTONGROUP
                PROPERTIES
                  Name                #ButtonGroup1
                ENDPROPERTIES
                
                CONTAINER
                  CONTROL MENUITEMBUTTON
                    PROPERTIES
                      Name                #NewAlb
                      Text                #Izveidot albumu
                      MenuItemType        #Action
                      MenuItemName        #collection_Alb_insert
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #clicked
                        #void clicked()
                        #{
                        #    super();
                        #
                        #    Album_ds.executeQuery();
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                  CONTROL MENUITEMBUTTON
                    PROPERTIES
                      Name                #DelAlb
                      Text                #Izdzēst albumu
                      MenuItemType        #Action
                      MenuItemName        #collection_Alb_del
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #clicked
                        #void clicked()
                        #{
                        #    super();
                        #
                        #    Album_ds.executeQuery();
                        #
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                ENDCONTAINER
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #Owners
  PROPERTIES
    Name                #Owners
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    str chosenId;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #
      #    ;
      #    super();
      #    chosenId =  curUserId();
      #    //info(chosenId);
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'vig'))
      #        chosenId = "MRRV";
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Owner
          Table               #Owner
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    QueryBuildDataSource qbds;
          #    QueryBuildRange qbr;
          #    //str chosenId;
          #    boolean isAdmin = false;
          #    ;
          #
          #    qbds = this.query().dataSourceNo(1);
          #
          #    while select Owner
          #    {
          #        if ((Owner.OwnId == chosenId) && (Owner.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #    if (!isAdmin)
          #    {
          #        //info("not ad");
          #        qbr = qbds.addRange(fieldNum(Owner, OwnId));
          #        qbr.value(QueryValue(chosenId));
          #    }
          #
          #        super();
          #
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    Owner   Owner2;
          #    int ret;
          #    boolean isAdmin = false;
          #    ;
          #    ret = super();
          #
          #    while select Owner2
          #    {
          #        if ((Owner2.OwnId == chosenId) && (Owner2.IsAdmin == NoYes::Yes))
          #        {
          #            isAdmin = true;
          #            break;
          #        }
          #    }
          #
          #    if (!isAdmin)
          #    {
          #        Owner_IsAdmin.visible(false);
          #
          #        Owner_ds.allowCreate(false);
          #        Owner_ds.allowDelete(false);
          #
          #
          #    }
          #    Owner_OwnId.allowEdit(false);
          #
          #    return ret;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Īpašnieku pārvalde
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Owners
              Caption             #Īpašnieki
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Owner
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Owner_OwnId
                        AutoDeclaration     #Yes
                        DataSource          #Owner
                        DataField           #OwnId
                        Mandatory           #Yes
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Owner_Name
                        DataSource          #Owner
                        DataField           #Name
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Owner_Surname
                        DataSource          #Owner
                        DataField           #Surname
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #Owner_IsAdmin
                        AutoDeclaration     #Yes
                        BackgroundColor     #Window background
                        DataSource          #Owner
                        DataField           #IsAdmin
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #Owner_Show
                        BackgroundColor     #Window background
                        DataSource          #Owner
                        DataField           #Show
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #OwnerCol
  PROPERTIES
    Name                #OwnerCol
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #OwnerCol
          Table               #OwnerCol
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD OwnId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #
          #    QueryBuildDataSource qbdsCollectables, qbdsOwner;
          #    QueryBuildRange qbrOwnId, qbrView;
          #    ;
          #
          #    qbdsCollectables = this.query().dataSourceTable(tableNum(OwnerCol));
          #
          #    qbdsOwner = qbdsCollectables.addDataSource(tableNum(Owner));
          #    qbdsOwner.joinMode(JoinMode::InnerJoin);
          #    qbdsOwner.relations(false);
          #    qbdsOwner.addLink(fieldNum(OwnerCol, OwnId), fieldNum(Owner, OwnId));
          #
          #    qbrView = qbdsOwner.addRange(fieldNum(Owner, Show));
          #    qbrView.value(queryValue(NoYes::Yes));
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #ColTypeName
          #display str60 ColTypeName(OwnerCol _OwnerCol)
          #{
          #    ItemPrice ItemPrice1;
          #    ColType ColType;
          #    ;
          #
          #    select firstonly ColType where ColType.ColTypeId == _OwnerCol.TypeId;
          #    if (ColType)
          #        return ColType.Type;
          #    else
          #        return "";
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Īpašnieku kolekcijas
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #OwnCol
              Caption             #Īpašnieku kolekcijas
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #OwnerCol
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #OwnerCol_OwnId
                        DataSource          #OwnerCol
                        DataField           #OwnId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #OwnerCol_TypeId
                        Visible             #No
                        DataSource          #OwnerCol
                        DataField           #TypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ColType
                        Label               #Kolekcijas tips
                        DataSource          #OwnerCol
                        DataMethod          #ColTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #Collectables
  PROPERTIES
    Name                #Collectables
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    container                   imageContainer;
      #    str                         imageFilePathName;
      #    NumberSeqFormHandler        numberSeqFormHandler;
      #    str                         chosenId;
      #
      #}
    ENDSOURCE
    SOURCE #runWindowsProcessAx30
      #int runWindowsProcessAx30(  str         _command
      #                             ,   str         _arguments
      #                             ,   boolean     _runAsAdmin         = false
      #                             ,   boolean     _useShellExecute    = false
      #                             ,   boolean     _waitForExit        = false
      #                             ,   str _workingDir = '')
      #{
      #    #WinAPI
      #    int _exitCode = 0;
      #    ;
      #
      #    _exitCode = winapi::shellExecute(_command,
      #        _arguments,_workingDir,'',#SW_SHOWNORMAL, _waitForExit );
      #    if (_exitCode == -1 )
      #        throw error(StrFmt("Error runing exteral command \n [%1]",_command ));
      #
      #    return _exitCode;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #
      #    int64 startTime;
      #    int64 endTime;
      #    int64 totalTime;
      #    ;
      #
      #    // Get the start time
      #    startTime = WinAPI::getTickCount();
      #
      #    super();
      #    chosenId =  curUserId();
      #
      #    //if ((chosenId == 'mag') || (chosenId == 'rog'))
      #    if ((chosenId == 'rag') || (chosenId == 'mag') || (chosenId == 'rog'))
      #        chosenId = "MRRV";
      #
      #
      #    //if(element.args())
      #    //{
      #    //    chosenId = element.args().parm();
      #    //}
      #
      #    endTime = WinAPI::getTickCount();
      #
      #    // Calculate the total time taken
      #    totalTime = endTime - startTime;
      #
      #    // Print the total time taken
      #    info(strFmt("Total time taken to insert the row: %1 milliseconds", totalTime));
      #}
      #
    ENDSOURCE
    SOURCE #showLogo1
      #void  showLogo1()
      #{
      #    //Photos  Photos;
      #    Image   logoImage;
      #    real res;
      #    ;
      #    try
      #    {
      #        imageContainer = Photos.Photo;
      #        element.lock();
      #        if (imageContainer)
      #        {
      #            logoImage = new Image();
      #            logoImage.setData(imageContainer);
      #            image1.image(logoImage);
      #            //image1.widthValue(logoImage.width());
      #            //image1.heightValue(logoImage.height());
      #            //info(strFmt("%1 width", int2str(logoImage.width())));
      #            //info(strFmt("%1 height", int2str(logoImage.height())));
      #            res = logoImage.width() / logoImage.height();
      #
      #            //info(num2str(res, 3, 5, 1 ,1));
      #            image1.widthValue((500*res));
      #            image1.heightValue(500);
      #            //info(strFmt("%res",any2str(res)));
      #        }
      #        else
      #        {
      #            image1.imageResource(0);
      #            //image1.widthValue(32);
      #            //image1.heightValue(32);
      #        }
      #
      #        element.resetSize();
      #        element.unLock();
      #    }
      #    catch (Exception::Warning)
      #    {
      #        throw error(strfmt("@SYS19312", imageFilePathName));
      #    }
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Collectables
          Table               #Collectables
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD AlbLocId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #
                #    //super(_formControl, _filterStr);
                #    SysTableLookup       sysTableLookup       = SysTableLookup::newParameters(tablenum(Album), _formControl);
                #    Query                query                = new Query();
                #    QueryBuildDataSource queryBuildDataSource = query.addDataSource(tablenum(Album));
                #    Album   Album;
                #    int i = 0;
                #    Container strCont;
                #    boolean found = False;
                #    Collectables        Collectables2;
                #
                #    while select Collectables2
                #    {
                #        strCont += Collectables2.AlbLocId;
                #    }
                #
                #    sysTableLookup.addLookupfield(fieldnum(Album,AlbLocId));
                #    sysTableLookup.addLookupfield(fieldnum(Album,Name));
                #    sysTableLookup.addLookupfield(fieldnum(Album,Page));
                #    sysTableLookup.addLookupfield(fieldnum(Album,PageRow));
                #    sysTableLookup.addLookupfield(fieldnum(Album,PageCol));
                #
                #
                #    while select Album
                #    {
                #        found = False;
                #        for (i = 1; i <= conLen(strCont); i++)
                #        {
                #
                #            if ((conPeek(strCont, i)) == Album.AlbLocId)
                #            {
                #                found = True;
                #                break;
                #            }
                #        }
                #
                #        if (!found)
                #        {
                #            queryBuildDataSource.addRange(fieldnum(Album, OwnId)).value(queryValue(Collectables.OwnId));
                #            queryBuildDataSource.addRange(fieldnum(Album, AlbLocId)).value(queryValue(Album.AlbLocId));
                #        }
                #    }
                #
                #    sysTableLookup.parmQuery(query);
                #    sysTableLookup.performFormLookup();
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OwnId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ConId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #ConditionName
          #display str60 ConditionName(Collectables _Collectables)
          #{
          #    Condition Condition;
          #    ;
          #
          #    select firstonly Condition where Condition.ConId == _Collectables.ConId;
          #    if (Condition)
          #        return Condition.ConditionName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #StatusName
          #display str60 StatusName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    Status Status;
          #    ;
          #
          #    select firstonly Status where Status.StatId == _Collectables.StatId;
          #    if (Status)
          #        return Status.StatusName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #MaterialName
          #display str60 MaterialName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    Material Material;
          #    ;
          #
          #    select firstonly Material where Material.MatId == _Collectables.MatId;
          #    if (Material)
          #        return Material.MaterialName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #ColTypeName
          #display str60 ColTypeName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    ColType ColType;
          #    ;
          #
          #    select firstonly ColType where ColType.ColTypeId == _Collectables.TypeId;
          #    if (ColType)
          #        return ColType.TypeName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #CurrTypeName
          #display str60 CurrTypeName(Collectables _Collectables)
          #{
          #    CurrencyType CurrencyType;
          #    ;
          #
          #    select firstonly CurrencyType where CurrencyType.CurrTypeId == _Collectables.CurrTypeId;
          #    if (CurrencyType)
          #        return CurrencyType.CurrTypeName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #refresh
          #public void refresh()
          #{
          #    ;
          #    //info('a');
          #    Photos_ds.active();
          #    super();
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #    LastPrice.enabled(Collectables.ColId != "");
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #
          #
          #    int64 startTime;
          #    int64 endTime;
          #    int64 totalTime;
          #    ;
          #
          #    startTime = WinAPI::getTickCount();
          #    //SysGlobalCache globalCache;
          #    //str     chosenId;
          #
          #    //globalCache = ClassFactory.globalCache();
          #    //chosenId = globalCache.get(curuserid(), 1);
          #    //globalcache.remove(curuserid(), 1);
          #
          #    FindOrCreateRange(this.query().dataSourceNo(1), fieldnum(Collectables, OwnId), QueryValue(chosenId));
          #    super();
          #    endTime = WinAPI::getTickCount();
          #
          #    totalTime = endTime - startTime;
          #
          #    info(strFmt("Total time taken to insert the row: %1 milliseconds", totalTime));
          #}
          #
        ENDSOURCE
        SOURCE #LastPrice
          #edit real LastPrice(boolean set,Collectables _Collectables, real value)
          #{
          #    ItemPrice ItemPrice1;
          #
          #    ;
          #    if(_Collectables.ColId != "")
          #    {
          #        if (set)
          #        {
          #            ItemPrice1.ColId =_Collectables.ColId;
          #            ItemPrice1.Price = value;
          #            ItemPrice1.TransDate = Today();
          #            ItemPrice1.doInsert();
          #
          #        }
          #        select firstonly ItemPrice1
          #        order by TransDate DESC, createdDateTime DESC
          #        where ItemPrice1.ColId ==_Collectables.ColId;
          #        return ItemPrice1.Price;
          #    }
          #    else
          #        return 0.0;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Photos
          Table               #Photos
          JoinSource          #Collectables
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #delete
          #public void delete()
          #{
          #    ;
          #    info("d");
          #    super();
          #}
        ENDSOURCE
        SOURCE #active
          #int active()
          #{
          #    int ret;
          #    ;
          #
          #    ret = super();
          #
          #    element.showLogo1();
          #
          #    // </GEEU>
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ItemPrice
          Table               #ItemPrice
          JoinSource          #Collectables
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD TransDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    ItemPrice_ds.research();
                #    ItemPrice_ds.refresh();
                #    //super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    this.query().dataSourceTable(tableNum(ItemPrice)).addSortField(fieldNum(ItemPrice, TransDate),SortOrder::Descending);
          #    this.query().dataSourceTable(tableNum(ItemPrice)).addSortField(fieldNum(ItemPrice, createdDateTime),SortOrder::Descending);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    Photos Collectables
    ItemPrice Collectables
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Kolekcionējamie priekšmeti
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overveiw
              Width               #Column width
              Height              #Column height
              Caption             #Apskats
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Collectables
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_ColId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #Collectables
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Name
                        DataSource          #Collectables
                        DataField           #Name
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Valsts
                        DataSource          #Collectables
                        DataField           #Valsts
                        Mandatory           #Yes
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Description
                        DataSource          #Collectables
                        DataField           #Description
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Collectables_YId
                        HTMLHelpTopic       #\
                        ShowZero            #No
                        DataSource          #Collectables
                        DataField           #YId
                        Mandatory           #Yes
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_ConId
                        AutoDeclaration     #Yes
                        DataSource          #Collectables
                        DataField           #ConId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Condition
                        Label               #Stāvoklis
                        DataSource          #Collectables
                        DataMethod          #ConditionName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_StatId
                        DataSource          #Collectables
                        DataField           #StatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Status
                        Label               #Statuss
                        DataSource          #Collectables
                        DataMethod          #StatusName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_MatId
                        DataSource          #Collectables
                        DataField           #MatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Material
                        Label               #Materiāls
                        DataSource          #Collectables
                        DataMethod          #MaterialName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_TypeId
                        DataSource          #Collectables
                        DataField           #TypeId
                        Mandatory           #Yes
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ColType
                        Label               #Kolekcijas tips
                        DataSource          #Collectables
                        DataMethod          #ColTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_AlbLocId
                        DataSource          #Collectables
                        DataField           #AlbLocId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_OwnId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #Collectables
                        DataField           #OwnId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Collectables_CurrValueId
                        ShowZero            #No
                        DataSource          #Collectables
                        DataField           #CurrValueId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_CurrTypeId
                        DataSource          #Collectables
                        DataField           #CurrTypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #CurrType
                        Label               #Valūtas tips
                        DataSource          #Collectables
                        DataMethod          #CurrTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #LastPrice
                        AutoDeclaration     #Yes
                        DecimalSeparator    #Dot (.)
                        NoOfDecimals        #2
                        Label               #Priekšmeta tekošā cena
                        DataSource          #Collectables
                        DataMethod          #LastPrice
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #ItemPhotos
              Width               #Column width
              Height              #Column height
              Caption             #Bildes
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid1
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Photos
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Photos_ColId
                        AllowEdit           #No
                        DataSource          #Photos
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL WINDOW
                PROPERTIES
                  Name                #Image1
                  AutoDeclaration     #Yes
                  Width               #1
                  Height              #1
                  Imagemode           #Size to fit
                  ShowLabel           #No
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL BUTTONGROUP
                PROPERTIES
                  Name                #ButtonGroup
                ENDPROPERTIES
                
                CONTAINER
                  CONTROL BUTTON
                    PROPERTIES
                      Name                #Add
                      HelpText            #@SYS84028
                      Text                #Pievienot attēlu
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #Clicked
                        #void clicked()
                        #{
                        #    FilenameFilter filter = ['Image Files','*.bmp;*.jpg;*.gif;*.jpeg'];
                        #    BinData binData = new BinData();
                        #    str extention, path, nameOfFile;
                        #    super();
                        #
                        #    imageFilePathName = WinAPI::getOpenFileName(element.hWnd(),filter,'', "@SYS53008", '','');
                        #    if (imageFilePathname && WinAPI::fileExists(imageFilePathName))
                        #    {
                        #        [path, nameOfFile, extention] = fileNameSplit(imageFilePathName);
                        #        if (extention == '.bmp' ||
                        #            extention == '.jpg' ||
                        #            extention == '.gif' ||
                        #            extention == '.jpeg')
                        #        {
                        #            binData.loadFile(imageFilePathName);
                        #            imageContainer = binData.getData();
                        #
                        #            Photos.insert();
                        #            Photos.ColId = Collectables.ColId;
                        #            Photos.Photo =imageContainer;
                        #            Photos_ds.write();
                        #            Photos_ds.active();
                        #            Collectables_ds.active();
                        #        }
                        #        else
                        #        {
                        #            throw error("@SYS89176");
                        #        }
                        #    }
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                  CONTROL BUTTON
                    PROPERTIES
                      Name                #Remove
                      HelpText            #@SYS84030
                      Text                #Aizvākt attēlu
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #Clicked
                        #void clicked()
                        #{
                        #    super();
                        #
                        #    Photos.delete();
                        #    Photos_ds.research();
                        #    Photos_ds.executeQuery();
                        #    Photos_ds.active();
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                  CONTROL BUTTON
                    PROPERTIES
                      Name                #Rotate
                      Text                #Rotēt (90 grādi)
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #clicked
                        #void clicked()
                        #{
                        #    Container       bitmapContainer;
                        #    Image           image;
                        #    BinData         binData;
                        #    PhotoParam      PhotoParam;
                        #    str             fileName;
                        #    str             tempDir;
                        #    str             jpgFileName
                        #    ;
                        #
                        #    new InteropPermission(InteropKind::ClrInterop).assert();
                        #
                        #    image = new Image();
                        #    image.setData(Photos.Photo);
                        #
                        #    tempDir = WinAPI::getTempPath();
                        #
                        #    filename = WinAPI::getTempFilename(tempDir, "");
                        #
                        #    jpgFileName = strReplace(filename, ".tmp", ".jpg");
                        #    WinAPI::moveFile(filename, jpgFileName);
                        #
                        #
                        #    image.saveImage(jpgFileName,3);
                        #
                        #    select firstonly PhotoParam;
                        #
                        #    WinAPI::shellExecute(PhotoParam.RotatePrgFile,strFmt("90 %1",jpgFileName),'','',0);
                        #    sleep(1500);
                        #
                        #    binData = new BinData();
                        #
                        #    binData.loadFile(jpgFileName);
                        #    imageContainer = binData.getData();
                        #
                        #    ttsbegin;
                        #    Photos.Photo = imageContainer;
                        #    ttscommit;
                        #
                        #    Photos_ds.write();
                        #    WinAPI::deleteFile(jpgFileName);
                        #
                        #    Photos_ds.reread();
                        #    Photos_ds.active();
                        #    super();
                        #
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                  CONTROL BUTTON
                    PROPERTIES
                      Name                #Edit
                      Text                #Rediģēt
                    ENDPROPERTIES
                    
                    METHODS
                      Version: 3
                      SOURCE #clicked
                        #void clicked()
                        #{
                        #    Container       bitmapContainer;
                        #    Image           image;
                        #    BinData         binData;
                        #    int             exitCode;
                        #    str             fileName;
                        #    str             tempDir;
                        #    str             jpgFileName
                        #    ;
                        #
                        #    new InteropPermission(InteropKind::ClrInterop).assert();
                        #
                        #    image = new Image();
                        #    image.setData(Photos.Photo);
                        #
                        #
                        #    tempDir = WinAPI::getTempPath();
                        #
                        #    filename = WinAPI::getTempFilename(tempDir, "");
                        #
                        #    jpgFileName = strReplace(filename, ".tmp", ".jpg");
                        #    WinAPI::moveFile(filename, jpgFileName);
                        #
                        #
                        #    image.saveImage(jpgFileName,3);
                        #
                        #    exitCode = element.runWindowsProcessAx30('mspaint.exe', jpgFileName,
                        #        false, true, true, tempDir);
                        #
                        #    if (exitCode == -1)
                        #    {
                        #        error("Kļūda");
                        #        return;
                        #    }
                        #
                        #    binData = new BinData();
                        #
                        #    binData.loadFile(jpgFileName);
                        #    imageContainer = binData.getData();
                        #
                        #    ttsbegin;
                        #    Photos.Photo = imageContainer;
                        #    ttscommit;
                        #
                        #    Photos_ds.write();
                        #    WinAPI::deleteFile(jpgFileName);
                        #
                        #    Photos_ds.reread();
                        #    Photos_ds.active();
                        #
                        #    super();
                        #}
                      ENDSOURCE
                    ENDMETHODS
                  ENDCONTROL 
                  
                ENDCONTAINER
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #ItemLastPrice
              Width               #Column width
              Height              #Column height
              Caption             #Priekšmeta iepriekšējā vērtība
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid2
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ItemPrice
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemPrice_ColId
                        AllowEdit           #No
                        DataSource          #ItemPrice
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ItemPrice_Price
                        AllowEdit           #No
                        DataSource          #ItemPrice
                        DataField           #Price
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL UTCDATETIMEEDIT
                      PROPERTIES
                        Name                #ItemPrice_createdDateTime
                        DataSource          #ItemPrice
                        DataField           #createdDateTime
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ItemPrice_TransDate
                        DataSource          #ItemPrice
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #SeeAllCollectables
  PROPERTIES
    Name                #SeeAllCollectables
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #init
      #public void init()
      #{
      #    int64 startTime;
      #    int64 endTime;
      #    int64 totalTime;
      #    ;
      #
      #    startTime = WinAPI::getTickCount();
      #
      #    super();
      #
      #
      #    endTime = WinAPI::getTickCount();
      #
      #    totalTime = endTime - startTime;
      #
      #    info(strFmt("Total time taken to insert the row: %1 milliseconds", totalTime));
      #}
      #
    ENDSOURCE
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    container                   imageContainer;
      #    str                         imageFilePathName;
      #    NumberSeqFormHandler        numberSeqFormHandler;
      #
      #}
    ENDSOURCE
    SOURCE #showLogo1
      #void  showLogo1()
      #{
      #    //Photos  Photos;
      #    Image   logoImage;
      #    real res;
      #    ;
      #    try
      #    {
      #        imageContainer = Photos.Photo;
      #        element.lock();
      #        if (imageContainer)
      #        {
      #            logoImage = new Image();
      #            logoImage.setData(imageContainer);
      #            image1.image(logoImage);
      #            //image1.widthValue(logoImage.width());
      #            //image1.heightValue(logoImage.height());
      #            //info(strFmt("%1 width", int2str(logoImage.width())));
      #            //info(strFmt("%1 height", int2str(logoImage.height())));
      #            res = logoImage.width() / logoImage.height();
      #
      #            //info(num2str(res, 3, 5, 1 ,1));
      #            image1.widthValue((500*res));
      #            image1.heightValue(500);
      #            //info(strFmt("%res",any2str(res)));
      #        }
      #        else
      #        {
      #            image1.imageResource(0);
      #            //image1.widthValue(32);
      #            //image1.heightValue(32);
      #        }
      #
      #        element.resetSize();
      #        element.unLock();
      #    }
      #    catch (Exception::Warning)
      #    {
      #        throw error(strfmt("@SYS19312", imageFilePathName));
      #    }
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Collectables
          Table               #Collectables
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD OwnId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #
          #    QueryBuildDataSource qbdsCollectables, qbdsOwner;
          #    QueryBuildRange qbrOwnId, qbrView;
          #    ;
          #
          #    qbdsCollectables = this.query().dataSourceTable(tableNum(Collectables));
          #
          #    qbdsOwner = qbdsCollectables.addDataSource(tableNum(Owner));
          #    qbdsOwner.joinMode(JoinMode::InnerJoin);
          #    qbdsOwner.relations(false);
          #    qbdsOwner.addLink(fieldNum(Collectables, OwnId), fieldNum(Owner, OwnId));
          #
          #    qbrView = qbdsOwner.addRange(fieldNum(Owner, Show));
          #    qbrView.value(queryValue(NoYes::Yes));
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #LastPrice
          #edit real LastPrice(boolean set,Collectables _Collectables, real value)
          #{
          #    ItemPrice ItemPrice1;
          #
          #    ;
          #    if (set)
          #    {
          #//        ItemPrice.selectForUpdate(true);
          #        ItemPrice1.ColId =_Collectables.ColId;
          #        ItemPrice1.Price = value;
          #        ItemPrice1.TransDate = Today();
          #        ItemPrice1.doInsert();
          #
          #    }
          #//    ItemPrice1 = ItemPrice::find(_Collectables.ColId);
          #    select firstonly ItemPrice1
          #    order by TransDate DESC, createdDateTime DESC
          #    where ItemPrice1.ColId ==_Collectables.ColId;
          #    return ItemPrice1.Price;
          #}
        ENDSOURCE
        SOURCE #ConditionName
          #display str60 ConditionName(Collectables _Collectables)
          #{
          #    Condition Condition;
          #    ;
          #
          #    select firstonly Condition where Condition.ConId == _Collectables.ConId;
          #    if (Condition)
          #        return Condition.ConditionName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #StatusName
          #display str60 StatusName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    Status Status;
          #    ;
          #
          #    select firstonly Status where Status.StatId == _Collectables.StatId;
          #    if (Status)
          #        return Status.StatusName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #MaterialName
          #display str60 MaterialName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    Material Material;
          #    ;
          #
          #    select firstonly Material where Material.MatId == _Collectables.MatId;
          #    if (Material)
          #        return Material.MaterialName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #ColTypeName
          #display str60 ColTypeName(Collectables _Collectables)
          #{
          #    ItemPrice ItemPrice1;
          #    ColType ColType;
          #    ;
          #
          #    select firstonly ColType where ColType.ColTypeId == _Collectables.TypeId;
          #    if (ColType)
          #        return ColType.TypeName;
          #    else
          #        return "";
          #}
        ENDSOURCE
        SOURCE #CurrTypeName
          #display str60 CurrTypeName(Collectables _Collectables)
          #{
          #    CurrencyType CurrencyType;
          #    ;
          #
          #    select firstonly CurrencyType where CurrencyType.CurrTypeId == _Collectables.CurrTypeId;
          #    if (CurrencyType)
          #        return CurrencyType.CurrTypeName;
          #    else
          #        return "";
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Photos
          Table               #Photos
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #Collectables
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #int active()
          #{
          #    int ret;
          #    ;
          #
          #    ret = super();
          #
          #    element.showLogo1();
          #    // </GEEU>
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ItemPrice
          Table               #ItemPrice
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #Collectables
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    this.query().dataSourceTable(tableNum(ItemPrice)).addSortField(fieldNum(ItemPrice, TransDate),SortOrder::Descending);
          #    this.query().dataSourceTable(tableNum(ItemPrice)).addSortField(fieldNum(ItemPrice, createdDateTime),SortOrder::Descending);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    Photos Collectables
    ItemPrice Collectables
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Kolekcionējamie priekšmeti
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overveiw
              Caption             #Apskats
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Collectables
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_ColId
                        DataSource          #Collectables
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Name
                        DataSource          #Collectables
                        DataField           #Name
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Valsts
                        DataSource          #Collectables
                        DataField           #Valsts
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_Description
                        DataSource          #Collectables
                        DataField           #Description
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Collectables_YId
                        DataSource          #Collectables
                        DataField           #YId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_ConId
                        Visible             #No
                        DataSource          #Collectables
                        DataField           #ConId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Condition
                        Label               #Stāvoklis
                        DataSource          #Collectables
                        DataMethod          #ConditionName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_StatId
                        Visible             #No
                        DataSource          #Collectables
                        DataField           #StatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Status
                        Label               #Statuss
                        DataSource          #Collectables
                        DataMethod          #StatusName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_MatId
                        Visible             #No
                        DataSource          #Collectables
                        DataField           #MatId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Material
                        Label               #Materiāls
                        DataSource          #Collectables
                        DataMethod          #MaterialName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_TypeId
                        Visible             #No
                        DataSource          #Collectables
                        DataField           #TypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ColType
                        Label               #Kolekcijas tips
                        DataSource          #Collectables
                        DataMethod          #ColTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_AlbLocId
                        DataSource          #Collectables
                        DataField           #AlbLocId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_OwnId
                        DataSource          #Collectables
                        DataField           #OwnId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #Collectables_CurrValueId
                        ShowZero            #No
                        DataSource          #Collectables
                        DataField           #CurrValueId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Collectables_CurrTypeId
                        AutoDeclaration     #Yes
                        Visible             #No
                        DataSource          #Collectables
                        DataField           #CurrTypeId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #CurrType
                        Label               #Valūtas tips
                        DataSource          #Collectables
                        DataMethod          #CurrTypeName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #LastPrice
                        DecimalSeparator    #Dot (.)
                        NoOfDecimals        #2
                        Label               #Priekšmeta tekošā cena
                        DataSource          #Collectables
                        DataMethod          #LastPrice
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #ItemPhotos
              Caption             #Bildes
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid1
                  Width               #Column width
                  Height              #Column height
                  DataSource          #Photos
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Photos_ColId
                        AllowEdit           #No
                        DataSource          #Photos
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL WINDOW
                PROPERTIES
                  Name                #Image1
                  AutoDeclaration     #Yes
                  Width               #1
                  Height              #1
                  Imagemode           #Size to fit
                  ShowLabel           #No
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #ItemLastPrice
              Caption             #Priekšmeta iepriekšējā vērtība
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid2
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ItemPrice
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemPrice_ColId
                        AllowEdit           #No
                        DataSource          #ItemPrice
                        DataField           #ColId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ItemPrice_Price
                        AllowEdit           #No
                        DataSource          #ItemPrice
                        DataField           #Price
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL UTCDATETIMEEDIT
                      PROPERTIES
                        Name                #ItemPrice_createdDateTime
                        DataSource          #ItemPrice
                        DataField           #createdDateTime
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ItemPrice_TransDate
                        DataSource          #ItemPrice
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: UTS

; Microsoft Dynamics AX String: SeqParam izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #SeqParam
  Id 50076
  STRING
    PROPERTIES
      Name                #SeqParam
      Extends             #NumberSequenceCode
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : SeqParamTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #SeqParamTable
    Id 50182
    PROPERTIES
      Name                #SeqParamTable
    ENDPROPERTIES
    
    FIELDS
      FIELD #SeqParam
        Id 50001
        STRING
        PROPERTIES
          Name                #SeqParam
          Table               #SeqParamTable
          ExtendedDataType    
            ARRAY 
              #SeqParam
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #OwnId
        Id 50002
        STRING
        PROPERTIES
          Name                #OwnId
          Table               #SeqParamTable
          ExtendedDataType    
            ARRAY 
              #OwnId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #static SeqParamTable find(OwnId   _OwnId,
        #                      boolean       _forUpdate = false)
        #{
        #    SeqParamTable SeqParamTable;
        #    ;
        #
        #    if (_OwnId)
        #    {
        #        if (_forUpdate)
        #            SeqParamTable.selectForUpdate(_forUpdate);
        #
        #        select firstonly SeqParamTable
        #            //index hint IdIdx
        #            where SeqParamTable.OwnId == _OwnId;
        #    }
        #    return SeqParamTable;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : PhotoParam unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #PhotoParam
    Id 50169
    PROPERTIES
      Name                #PhotoParam
    ENDPROPERTIES
    
    FIELDS
      FIELD #RotatePrgFile
        Id 50002
        STRING
        PROPERTIES
          Name                #RotatePrgFile
          Label               #Failu rotēšanas programma
          Table               #PhotoParam
          ExtendedDataType    
            ARRAY 
              #FilenameOpen
              #
            ENDARRAY
          StringSize          #259
        ENDPROPERTIES
        
      FIELD #SeqId
        Id 50003
        INT
        PROPERTIES
          Name                #SeqId
          Table               #PhotoParam
          ExtendedDataType    
            ARRAY 
              #SeqId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #SeqIdIdx
      Id 50001
      PROPERTIES
        Name                #SeqIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #SeqId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #
        #static PhotoParam find(boolean _forupdate = false)
        #{
        #    PhotoParam  parameter;
        #
        #    if (_forupdate)
        #    parameter.selectForUpdate(_forupdate);
        #
        #    select firstonly parameter
        #        index SeqIdIdx
        #        where parameter.SeqId == 0;
        #
        #
        #    return parameter;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : Photos unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Photos
    Id 50144
    PROPERTIES
      Name                #Photos
      Label               #@ABS14
    ENDPROPERTIES
    
    FIELDS
      FIELD #ColId
        Id 50001
        STRING
        PROPERTIES
          Name                #ColId
          Table               #Photos
          ExtendedDataType    
            ARRAY 
              #ColId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Photo
        Id 50002
        QUEUE
        PROPERTIES
          Name                #Photo
          Table               #Photos
          ExtendedDataType    
            ARRAY 
              #Photo
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ColId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: UTQ

; Microsoft Dynamics AX Container: Photo izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Photo
  Id 50020
  QUEUE
    PROPERTIES
      Name                #Photo
      Label               #@ABS13
      ButtonImage         #OpenFile
      Extends             #Bitmap
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : CurrencyValue unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #CurrencyValue
    Id 50139
    PROPERTIES
      Name                #CurrencyValue
      Label               #@ABS12
    ENDPROPERTIES
    
    FIELDS
      FIELD #CurrValueId
        Id 50001
        INT
        PROPERTIES
          Name                #CurrValueId
          Table               #CurrencyValue
          ExtendedDataType    
            ARRAY 
              #CurrValueId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrValueId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #CurrValueId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: UTI

; Microsoft Dynamics AX Integer: CurrValueId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #CurrValueId
  Id 50014
  INT
    PROPERTIES
      Name                #CurrValueId
      Label               #@ABS11
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #CurrencyValue
        RelatedField        #CurrValueId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : CurrencyType unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #CurrencyType
    Id 50138
    PROPERTIES
      Name                #CurrencyType
      Label               #@ABS10
    ENDPROPERTIES
    
    FIELDS
      FIELD #CurrTypeId
        Id 50001
        STRING
        PROPERTIES
          Name                #CurrTypeId
          Table               #CurrencyType
          ExtendedDataType    
            ARRAY 
              #CurrTypeId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CurrTypeName
        Id 50002
        STRING
        PROPERTIES
          Name                #CurrTypeName
          Label               #Valūtas tips
          Table               #CurrencyType
          StringSize          #100
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrTypeId
          #CurrTypeName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #CurrTypeId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #insert
        #public void insert()
        #{
        #    CurrencyType     CurrencyType;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         value = 0;
        #
        #    ;
        #
        #    while select CurrencyType
        #    {
        #        value = str2int(CurrencyType.CurrTypeId);
        #
        #        if (value > maxAtlikums)
        #        {
        #            maxAtlikums = value;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #    this.CurrTypeId = int2str(maxAtlikums);
        #
        #    super();
        #}
      ENDSOURCE
      SOURCE #find
        #static CurrencyType find(CurrTypeId   _CurrTypeId,
        #                      boolean       _forUpdate = false)
        #{
        #    CurrencyType CurrencyType;
        #    ;
        #
        #    if (_CurrTypeId)
        #    {
        #        if (_forUpdate)
        #            CurrencyType.selectForUpdate(_forUpdate);
        #
        #        select firstonly CurrencyType
        #            index hint IdIdx
        #            where CurrencyType.CurrTypeId == _CurrTypeId;
        #    }
        #    return CurrencyType;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: CurrTypeId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #CurrTypeId
  Id 50013
  STRING
    PROPERTIES
      Name                #CurrTypeId
      Label               #Valūtas tipa kods
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #CurrencyType
        RelatedField        #CurrTypeId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : ItemPrice unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ItemPrice
    Id 50140
    PROPERTIES
      Name                #ItemPrice
      Label               #@ABS9
      CreatedDateTime     #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #ColId
        Id 50001
        STRING
        PROPERTIES
          Name                #ColId
          Table               #ItemPrice
          ExtendedDataType    
            ARRAY 
              #ColId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Price
        Id 50002
        REAL
        PROPERTIES
          Name                #Price
          Table               #ItemPrice
          ExtendedDataType    
            ARRAY 
              #Price
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TransDate
        Id 50003
        DATE
        PROPERTIES
          Name                #TransDate
          Table               #ItemPrice
          ExtendedDataType    
            ARRAY 
              #TransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #ColId
          #Price
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ColId
        #TransDate
        #createdDateTime
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #static ItemPrice find(ColId   _ColId,
        #                      boolean       _forUpdate = false)
        #{
        #    ItemPrice ItemPrice;
        #    ;
        #
        #    if (_ColId)
        #    {
        #        if (_forUpdate)
        #            ItemPrice.selectForUpdate(_forUpdate);
        #
        #        select firstonly ItemPrice
        #            index hint IdIdx
        #            where ItemPrice.ColId == _ColId;
        #    }
        #    return ItemPrice;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : Album unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Album
    Id 50134
    PROPERTIES
      Name                #Album
      Label               #@ABS8
    ENDPROPERTIES
    
    FIELDS
      FIELD #AlbLocId
        Id 50001
        STRING
        PROPERTIES
          Name                #AlbLocId
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #AlbLocId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Page
        Id 50002
        INT
        PROPERTIES
          Name                #Page
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #Page
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PageRow
        Id 50003
        INT
        PROPERTIES
          Name                #PageRow
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #PageRow
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PageCol
        Id 50004
        INT
        PROPERTIES
          Name                #PageCol
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #PageCol
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Name
        Id 50005
        STRING
        PROPERTIES
          Name                #Name
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #Name
              #
            ENDARRAY
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #OwnId
        Id 50006
        STRING
        PROPERTIES
          Name                #OwnId
          Table               #Album
          ExtendedDataType    
            ARRAY 
              #OwnId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #AlbLocId
          #Name
          #Page
          #PageCol
          #PageRow
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #AlbLocId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: UTI

; Microsoft Dynamics AX Integer: PageCol izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #PageCol
  Id 50018
  INT
    PROPERTIES
      Name                #PageCol
      Label               #@ABS7
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTI

; Microsoft Dynamics AX Integer: PageRow izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #PageRow
  Id 50019
  INT
    PROPERTIES
      Name                #PageRow
      Label               #@ABS6
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTI

; Microsoft Dynamics AX Integer: Page izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Page
  Id 50017
  INT
    PROPERTIES
      Name                #Page
      Label               #@ABS5
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: AlbLocId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #AlbLocId
  Id 50010
  STRING
    PROPERTIES
      Name                #AlbLocId
      Label               #@SYS76283
      StringSize          #20
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Album
        RelatedField        #AlbLocId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : OwnerCol unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #OwnerCol
    Id 50143
    PROPERTIES
      Name                #OwnerCol
      Label               #@ABS4
    ENDPROPERTIES
    
    FIELDS
      FIELD #OwnId
        Id 50001
        STRING
        PROPERTIES
          Name                #OwnId
          Table               #OwnerCol
          ExtendedDataType    
            ARRAY 
              #OwnId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TypeId
        Id 50002
        STRING
        PROPERTIES
          Name                #TypeId
          Table               #OwnerCol
          ExtendedDataType    
            ARRAY 
              #ColTypeId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
      REFERENCE #Relation1
        PROPERTIES
          Name                #Relation1
          Table               #ColType
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TypeId
            RelatedField        #ColTypeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Relation2
        PROPERTIES
          Name                #Relation2
          Table               #Owner
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OwnId
            RelatedField        #OwnId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ColType unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ColType
    Id 50136
    PROPERTIES
      Name                #ColType
      Label               #@ABS3
    ENDPROPERTIES
    
    FIELDS
      FIELD #ColTypeId
        Id 50001
        STRING
        PROPERTIES
          Name                #ColTypeId
          Table               #ColType
          ExtendedDataType    
            ARRAY 
              #ColTypeId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TypeName
        Id 50002
        STRING
        PROPERTIES
          Name                #TypeName
          Label               #Tips
          Table               #ColType
          StringSize          #100
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #ColTypeId
          #TypeName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #ColTypeId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #insert
        #public void insert()
        #{
        #    ColType     ColType;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         value = 0;
        #
        #    ;
        #
        #
        #    while select ColType
        #    {
        #        value = str2int(ColType.ColTypeId);
        #
        #        if (value > maxAtlikums)
        #        {
        #            maxAtlikums = value;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #    this.ColTypeId = int2str(maxAtlikums);
        #
        #    super();
        #
        #
        #}
      ENDSOURCE
      SOURCE #find
        #static ColType find(ColTypeId   _ColTypeId,
        #                      boolean       _forUpdate = false)
        #{
        #    ColType ColType;
        #    ;
        #
        #    if (_ColTypeId)
        #    {
        #        if (_forUpdate)
        #            ColType.selectForUpdate(_forUpdate);
        #
        #        select firstonly ColType
        #            index hint IdIdx
        #            where ColType.ColTypeId == _ColTypeId;
        #    }
        #    return ColType;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: ColTypeId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ColTypeId
  Id 50023
  STRING
    PROPERTIES
      Name                #ColTypeId
      Label               #Tipa kods
      DisplayLength       #30
      StringSize          #20
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #ColType
        RelatedField        #ColTypeId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Owner unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Owner
    Id 50142
    PROPERTIES
      Name                #Owner
      Label               #@ABS2
    ENDPROPERTIES
    
    FIELDS
      FIELD #OwnId
        Id 50001
        STRING
        PROPERTIES
          Name                #OwnId
          Table               #Owner
          ExtendedDataType    
            ARRAY 
              #OwnId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Name
        Id 50002
        STRING
        PROPERTIES
          Name                #Name
          Label               #@SYS79838
          HelpText            #.
          Table               #Owner
          ExtendedDataType    
            ARRAY 
              #Name
              #
            ENDARRAY
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #Surname
        Id 50003
        STRING
        PROPERTIES
          Name                #Surname
          Table               #Owner
          ExtendedDataType    
            ARRAY 
              #Surname
              #
            ENDARRAY
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #IsAdmin
        Id 50005
        ENUM
        PROPERTIES
          Name                #IsAdmin
          Label               #Vai lietotājam ir admina tiesības
          Table               #Owner
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Show
        Id 50007
        ENUM
        PROPERTIES
          Name                #Show
          Label               #Vai rādīt lietotāja kolekcijas citiem
          Table               #Owner
          EnumType            #NoYes
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #OwnId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: OwnId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #OwnId
  Id 50016
  STRING
    PROPERTIES
      Name                #OwnId
      Label               #@SYS77709
      ChangeCase          #UPPER CASE
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Owner
        RelatedField        #OwnId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: Surname izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Surname
  Id 50022
  STRING
    PROPERTIES
      Name                #Surname
      Label               #@SYS79844
      StringSize          #50
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Material unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Material
    Id 50141
    PROPERTIES
      Name                #Material
      Label               #@SYS9310
    ENDPROPERTIES
    
    FIELDS
      FIELD #MatId
        Id 50001
        STRING
        PROPERTIES
          Name                #MatId
          Table               #Material
          ExtendedDataType    
            ARRAY 
              #MatId
              #
            ENDARRAY
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #MaterialName
        Id 50002
        STRING
        PROPERTIES
          Name                #MaterialName
          Label               #Mateiāls
          Table               #Material
          StringSize          #100
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #MatId
          #MaterialName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #MatId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #insert
        #public void insert()
        #{
        #    Material     Material;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         value = 0;
        #
        #    ;
        #
        #    while select Material
        #    {
        #        value = str2int(Material.MatId);
        #
        #        if (value > maxAtlikums)
        #        {
        #            maxAtlikums = value;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #
        #    this.MatId = int2str(maxAtlikums);
        #    super();
        #}
      ENDSOURCE
      SOURCE #find
        #static Material find(MatId   _MatId,
        #                      boolean       _forUpdate = false)
        #{
        #    Material Material;
        #    ;
        #
        #    if (_MatId)
        #    {
        #        if (_forUpdate)
        #            Material.selectForUpdate(_forUpdate);
        #
        #        select firstonly Material
        #            index hint IdIdx
        #            where Material.MatId == _MatId;
        #    }
        #    return Material;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: MatId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #MatId
  Id 50015
  STRING
    PROPERTIES
      Name                #MatId
      Label               #Materiāla kods
      StringSize          #50
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Material
        RelatedField        #MatId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Status unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Status
    Id 50146
    PROPERTIES
      Name                #Status
      Label               #@SYS56619
    ENDPROPERTIES
    
    FIELDS
      FIELD #StatId
        Id 50001
        STRING
        PROPERTIES
          Name                #StatId
          Table               #Status
          ExtendedDataType    
            ARRAY 
              #StatId
              #
            ENDARRAY
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #StatusName
        Id 50003
        STRING
        PROPERTIES
          Name                #StatusName
          Label               #Statuss
          Table               #Status
          StringSize          #100
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #StatId
          #StatusName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #StatId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #insert
        #public void insert()
        #{
        #    Status     Status;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         value = 0;
        #    ;
        #
        #
        #    while select Status
        #    {
        #        value = str2int(Status.StatId);
        #
        #        if (value > maxAtlikums)
        #        {
        #            maxAtlikums = value;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #
        #    this.StatId = int2str(maxAtlikums);
        #
        #    super();
        #
        #}
      ENDSOURCE
      SOURCE #find
        #static Status find(StatId   _StatId,
        #                      boolean       _forUpdate = false)
        #{
        #    Status Status;
        #    ;
        #
        #    if (_StatId)
        #    {
        #        if (_forUpdate)
        #            Status.selectForUpdate(_forUpdate);
        #
        #        select firstonly Status
        #            index hint IdIdx
        #            where Status.StatId == _StatId;
        #    }
        #    return Status;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: StatId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #StatId
  Id 50021
  STRING
    PROPERTIES
      Name                #StatId
      Label               #Statusa kods
      StringSize          #100
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Status
        RelatedField        #StatId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Condition unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Condition
    Id 50137
    PROPERTIES
      Name                #Condition
      Label               #@ABS0
    ENDPROPERTIES
    
    FIELDS
      FIELD #ConId
        Id 50001
        STRING
        PROPERTIES
          Name                #ConId
          Table               #Condition
          ExtendedDataType    
            ARRAY 
              #ConId
              #
            ENDARRAY
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #ConditionName
        Id 50002
        STRING
        PROPERTIES
          Name                #ConditionName
          Label               #Stāvoklis
          Table               #Condition
          StringSize          #100
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #ConId
          #ConditionName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #ConId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #insert
        #public void insert()
        #{
        #    Condition     Condition;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         value = 0;
        #
        #    ;
        #
        #
        #    while select Condition
        #    {
        #        value = str2int(Condition.ConId);
        #
        #        if (value > maxAtlikums)
        #        {
        #            maxAtlikums = value;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #
        #
        #    this.ConId = int2str(maxAtlikums);
        #
        #    super();
        #
        #}
      ENDSOURCE
      SOURCE #find
        #static Condition find(ConId   _ConId,
        #                      boolean       _forUpdate = false)
        #{
        #    Condition Condition;
        #    ;
        #
        #    if (_ConId)
        #    {
        #        if (_forUpdate)
        #            Condition.selectForUpdate(_forUpdate);
        #
        #        select firstonly Condition
        #            index hint IdIdx
        #            where Condition.ConId == _ConId;
        #    }
        #    return Condition;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: ConId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ConId
  Id 50012
  STRING
    PROPERTIES
      Name                #ConId
      Label               #@ABS0
      StringSize          #100
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Condition
        RelatedField        #ConId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Proj15Year unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Proj15Year
    Id 50145
    PROPERTIES
      Name                #Proj15Year
      Label               #@SYS32606
    ENDPROPERTIES
    
    FIELDS
      FIELD #YId
        Id 50001
        INT
        PROPERTIES
          Name                #YId
          Table               #Proj15Year
          ExtendedDataType    
            ARRAY 
              #YId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #YId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #YId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: UTI

; Microsoft Dynamics AX Integer: YId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #YId
  Id 50025
  INT
    PROPERTIES
      Name                #YId
      Label               #@SYS32606
      AllowNegative       #No
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Proj15Year
        RelatedField        #YId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: DBT

; Microsoft Dynamics AX Table : Collectables unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Collectables
    Id 50135
    PROPERTIES
      Name                #Collectables
      Label               #@ABS15
    ENDPROPERTIES
    
    FIELDS
      FIELD #ColId
        Id 50001
        STRING
        PROPERTIES
          Name                #ColId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #ColId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Name
        Id 50002
        STRING
        PROPERTIES
          Name                #Name
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #Name
              #
            ENDARRAY
          StringSize          #250
        ENDPROPERTIES
        
      FIELD #Valsts
        Id 50003
        STRING
        PROPERTIES
          Name                #Valsts
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #Valsts
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Description
        Id 50004
        STRING
        PROPERTIES
          Name                #Description
          Label               #@SYS6303
          HelpText            #.
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #Description
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #YId
        Id 50005
        INT
        PROPERTIES
          Name                #YId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #YId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ConId
        Id 50006
        STRING
        PROPERTIES
          Name                #ConId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #ConId
              #
            ENDARRAY
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #StatId
        Id 50007
        STRING
        PROPERTIES
          Name                #StatId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #StatId
              #
            ENDARRAY
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #MatId
        Id 50008
        STRING
        PROPERTIES
          Name                #MatId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #MatId
              #
            ENDARRAY
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #TypeId
        Id 50009
        STRING
        PROPERTIES
          Name                #TypeId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #ColTypeId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AlbLocId
        Id 50010
        STRING
        PROPERTIES
          Name                #AlbLocId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #AlbLocId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #OwnId
        Id 50011
        STRING
        PROPERTIES
          Name                #OwnId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #OwnId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CurrValueId
        Id 50012
        INT
        PROPERTIES
          Name                #CurrValueId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #CurrValueId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CurrTypeId
        Id 50013
        STRING
        PROPERTIES
          Name                #CurrTypeId
          Table               #Collectables
          ExtendedDataType    
            ARRAY 
              #CurrTypeId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #IdIdx
      Id 50001
      PROPERTIES
        Name                #IdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #ColId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #delete
        #public void delete()
        #{
        #    OwnCol_update   OwnCol_update;
        #    Collectables    Collectables;
        #    Photos          Photos1;
        #    ItemPrice       ItemPrice1;
        #
        #    // Variables to measure time
        #    int64 startTime;
        #    int64 endTime;
        #    int64 totalTime;
        #    ;
        #
        #    // Get the start time
        #    startTime = WinAPI::getTickCount();
        #
        #    //info("jāizmanto jaunā web versija");
        #    //return;
        #
        #
        #    while select forupdate Photos1 where Photos1.ColId == this.ColId
        #    {
        #        //info(this.ColId);
        #        ttsbegin;
        #        Photos1.delete();
        #        ttscommit;
        #    }
        #    Photos1.reread();
        #
        #
        #    while select forupdate ItemPrice1 where ItemPrice1.ColId == this.ColId
        #    {
        #        //info(this.ColId);
        #        ttsbegin;
        #        ItemPrice1.delete();
        #        ttscommit;
        #    }
        #    ItemPrice1.reread();
        #
        #
        #    super();
        #
        #
        #
        #    OwnCol_update = new OwnCol_update();
        #    OwnCol_update.setOwn(this.OwnId);
        #    OwnCol_update.run();
        #
        #
        #        // Get the end time
        #    endTime = WinAPI::getTickCount();
        #
        #    // Calculate the total time taken
        #    totalTime = endTime - startTime;
        #
        #    // Print the total time taken
        #    info(strFmt("Total time taken to insert the row: %1 milliseconds", totalTime));
        #}
      ENDSOURCE
      SOURCE #insert
        #public void insert()
        #{
        #    Collectables     Collectables;
        #    OwnCol_update   OwnCol_update;
        #
        #    int         skaits;
        #    str         shortname;
        #    str         longname;
        #    int         maxAtlikums = 0;
        #    int         difference = 0;
        #
        #    str num;
        #    SeqParamTable   SeqParamTable;
        #    str numSeqCode;
        #
        #    // Variables to measure time
        #    int64 startTime;
        #    int64 endTime;
        #    int64 totalTime;
        #    ;
        #
        #    // Get the start time
        #    startTime = WinAPI::getTickCount();
        #
        #
        #    /*
        #    while select Collectables
        #        where //Collectables.Valsts == this.Valsts &&
        #              //Collectables.YId == this.YId &&
        #              Collectables.OwnId == this.OwnId
        #    {
        #        longname = "";
        #        shortname = "";
        #        difference = 0;
        #
        #        // new gen without year and valsts
        #        difference = str2int(strDel(Collectables.ColId, 1, strLen(strUpr(Collectables.OwnId))));
        #
        #        if (difference > maxAtlikums)
        #        {
        #            maxAtlikums = difference;
        #        }
        #    }
        #
        #    maxAtlikums = maxAtlikums + 1;
        #    //info(int2str(maxAtlikums));
        #    */
        #
        #    //info("jāizmanto jaunā web versija");
        #    //return;
        #
        #    num = NumberSeq::newGetNumFromCode(SeqParamTable::find(this.OwnId).SeqParam).num();
        #
        #    this.ColId = num;
        #
        #    //new gen
        #
        #    //this.ColId = strFmt("%1%2",strUpr(this.OwnId), maxAtlikums);
        #    //info(this.ColId);
        #    super();
        #
        #    OwnCol_update = new OwnCol_update();
        #    OwnCol_update.setOwn(this.OwnId);
        #    OwnCol_update.run();
        #
        #    endTime = WinAPI::getTickCount();
        #    totalTime = endTime - startTime;
        #
        #    info(strFmt("Total time taken to insert the row: %1 milliseconds", totalTime));
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    Collectables     Collectables;
        #    str pattern = @"^*[a-zA-Z]*.*[a-zA-Z]*\.\d+\.*[a-zA-Z]*$";
        #    System.Text.RegularExpressions.Regex regex;
        #
        #    ;
        #
        #
        #    regex = new System.Text.RegularExpressions.Regex(pattern);
        #
        #    super(_fieldId);
        #
        #    switch (fieldExt2Id(_fieldId))
        #    {
        #        case fieldnum(Collectables, Valsts):
        #            if (regex.IsMatch(this.Name))
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #            if (this.Name == "")
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #            break;
        #
        #
        #        case fieldnum(Collectables, YId):
        #            if (regex.IsMatch(this.Name))
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            if (this.Name == "")
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            break;
        #
        #
        #        case fieldnum(Collectables, TypeId):
        #            if (regex.IsMatch(this.Name))
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            if (this.Name == "")
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            break;
        #
        #        case fieldnum(Collectables, MatId):
        #            if (regex.IsMatch(this.Name))
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            if (this.Name == "")
        #                this.Name = strFmt("%1.%2.%3.%4", this.TypeId, this.MatId, this.YId, this.Valsts);
        #
        #            break;
        #
        #    }
        #
        #
        #}
        #
      ENDSOURCE
      SOURCE #update
        #public void update()
        #{
        #    OwnCol_update   OwnCol_update;
        #    Collectables    Collectables;
        #
        #
        #
        #    int64 startTime;
        #    int64 endTime;
        #    int64 totalTime;
        #    ;
        #
        #    startTime = WinAPI::getTickCount();
        #
        #    //info("jāizmanto jaunā web versija");
        #    //return;
        #
        #
        #    super();
        #
        #    OwnCol_update = new OwnCol_update();
        #    OwnCol_update.setOwn(this.OwnId);
        #    OwnCol_update.run();
        #
        #    endTime = WinAPI::getTickCount();
        #    totalTime = endTime - startTime;
        #
        #    info(strFmt("Total time taken to update the row: %1 milliseconds", totalTime));
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(fieldId fieldId)
        #{
        #    boolean ok;
        #    Collectables     Collectables;
        #    ;
        #
        #    if(!this.AddressMap::validatePostalCode(fieldId))
        #    {
        #        return false;
        #    }
        #
        #
        #    switch(fieldId)
        #    {
        #        case fieldnum(Collectables, AlbLocId):
        #            while select Collectables
        #            {
        #                if ((this.AlbLocId == Collectables.AlbLocId)
        #                    && (this.AlbLocId != ""))
        #                {
        #                    info("vieta jau aizņemta");
        #                    return false;
        #                }
        #            }
        #    }
        #
        #    ok = super(fieldId);
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #find
        #static Collectables find(ColId   _ColId,
        #                      boolean       _forUpdate = false)
        #{
        #    Collectables Collectables;
        #    ;
        #
        #    if (_ColId)
        #    {
        #        if (_forUpdate)
        #            Collectables.selectForUpdate(_forUpdate);
        #
        #        select firstonly Collectables
        #            index hint IdIdx
        #            where Collectables.ColId == _ColId;
        #    }
        #    return Collectables;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: ColId izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ColId
  Id 50011
  STRING
    PROPERTIES
      Name                #ColId
      Label               #@SYS5468
      StringSize          #20
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #Collectables
        RelatedField        #ColId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: Name izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Name
  Id 332
  STRING
    PROPERTIES
      Name                #Name
      Label               #@SYS7399
      HelpText            #@SYS86658
      DisplayLength       #30
      StringSize          #250
      ChangeCase          #None
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: Valsts izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Valsts
  Id 50024
  STRING
    PROPERTIES
      Name                #Valsts
      Label               #@SYS120586
      Extends             #AddressCountryRegionId
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: Description izlādēts
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #Description
  Id 841
  STRING
    PROPERTIES
      Name                #Description
      Label               #@SYS7576
      HelpText            #@SYS5206
      DisplayLength       #30
      StringSize          #60
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: PRN

; Microsoft Dynamics AX Project : adp_RAG_Proj15 unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #adp_RAG_Proj15
   SHARED
  PROPERTIES
    Name                #adp_RAG_Proj15
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    GROUP #jobs
      PROPERTIES
        Name                #jobs
        ProjectGroupType    #All
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #exportDataFromTab
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #Job270
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #importAddressCountryRegionFromTxtFile
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #Job41
      ENDNODE
      ENDGROUP
      
    GROUP #menus
      PROPERTIES
        Name                #menus
        ProjectGroupType    #All
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #action
        PROPERTIES
          Name                #action
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 3
          UTILOBJECTID 0
          NODETYPE 296
          NAME #owncol_update
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 3
          UTILOBJECTID 0
          NODETYPE 296
          NAME #Collection_Alb_del
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 3
          UTILOBJECTID 0
          NODETYPE 296
          NAME #Collection_Alb_insert
        ENDNODE
        ENDGROUP
        
      GROUP #display
        PROPERTIES
          Name                #display
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #AlbumMenu
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #OwnerMenu
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #OwnerColMenu
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #AllCollMenu
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollMenu
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropCurrType
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropCurrValue
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropMaterial
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropStatus
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropCondition
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropYear
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #CollPropColType
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #FileEditParamsMenu
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #classes
      PROPERTIES
        Name                #classes
        ProjectGroupType    #All
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50104
        NODETYPE 329
        NAME #OwnCol_update
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50100
        NODETYPE 329
        NAME #Collection_Alb_insert
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50099
        NODETYPE 329
        NAME #Collection_Alb_del
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50102
        NODETYPE 329
        NAME #OwnCol_update_batch
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50101
        NODETYPE 329
        NAME #ColUser_valid
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50103
        NODETYPE 329
        NAME #Admin_valid
      ENDNODE
      ENDGROUP
      
    GROUP #forms
      PROPERTIES
        Name                #forms
        ProjectGroupType    #All
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #FileEditParams
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropCurrType
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropCurrValue
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropMaterial
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropStatus
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropCondition
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropYear
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CollPropColType
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #Album
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #Owners
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #OwnerCol
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #Collectables
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #SeeAllCollectables
      ENDNODE
      ENDGROUP
      
    GROUP #tables
      PROPERTIES
        Name                #tables
        ProjectGroupType    #All
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50076
        NODETYPE 234
        NAME #SeqParam
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50182
        NODETYPE 204
        NAME #SeqParamTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50169
        NODETYPE 204
        NAME #PhotoParam
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50144
        NODETYPE 204
        NAME #Photos
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50020
        NODETYPE 230
        NAME #Photo
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50139
        NODETYPE 204
        NAME #CurrencyValue
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50014
        NODETYPE 232
        NAME #CurrValueId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50138
        NODETYPE 204
        NAME #CurrencyType
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50013
        NODETYPE 234
        NAME #CurrTypeId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50140
        NODETYPE 204
        NAME #ItemPrice
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50134
        NODETYPE 204
        NAME #Album
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50018
        NODETYPE 232
        NAME #PageCol
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50019
        NODETYPE 232
        NAME #PageRow
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50017
        NODETYPE 232
        NAME #Page
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50010
        NODETYPE 234
        NAME #AlbLocId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50143
        NODETYPE 204
        NAME #OwnerCol
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50136
        NODETYPE 204
        NAME #ColType
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50023
        NODETYPE 234
        NAME #ColTypeId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50142
        NODETYPE 204
        NAME #Owner
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50016
        NODETYPE 234
        NAME #OwnId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50022
        NODETYPE 234
        NAME #Surname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50141
        NODETYPE 204
        NAME #Material
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50015
        NODETYPE 234
        NAME #MatId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50146
        NODETYPE 204
        NAME #Status
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50021
        NODETYPE 234
        NAME #StatId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50137
        NODETYPE 204
        NAME #Condition
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50012
        NODETYPE 234
        NAME #ConId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50145
        NODETYPE 204
        NAME #Proj15Year
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50025
        NODETYPE 232
        NAME #YId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50135
        NODETYPE 204
        NAME #Collectables
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50011
        NODETYPE 234
        NAME #ColId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 332
        NODETYPE 234
        NAME #Name
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50024
        NODETYPE 234
        NAME #Valsts
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 841
        NODETYPE 234
        NAME #Description
      ENDNODE
      ENDGROUP
      
  ENDPROJECT
  

***Element: END
